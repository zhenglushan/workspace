(function(aj){aj.fn.theiaStickySidebar=function(dN){var ed={containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:true,minWidth:0,disableOnResponsiveLayouts:true,sidebarBehavior:"modern"};dN=aj.extend(ed,dN);dN.additionalMarginTop=parseInt(dN.additionalMarginTop)||0;dN.additionalMarginBottom=parseInt(dN.additionalMarginBottom)||0;ce(dN,this);function ce(dN,ed){var ce=aQ(dN,ed);if(!ce){console.log("TST: Body width smaller than options.minWidth. Init is delayed.");aj(document).scroll(function(dN,ed){return function(ce){var bG=aQ(dN,ed);if(bG){aj(this).unbind(ce)}}}(dN,ed));aj(window).resize(function(dN,ed){return function(ce){var bG=aQ(dN,ed);if(bG){aj(this).unbind(ce)}}}(dN,ed))}}function aQ(dN,ed){if(dN.initialized===true){return true}if(aj("body").width()<dN.minWidth){return false}bG(dN,ed);return true}function bG(dN,ed){dN.initialized=true;aj("head").append(aj('<style>.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>'));ed.each(function(){var ed={};ed.sidebar=aj(this);ed.options=dN||{};ed.container=aj(ed.options.containerSelector);if(ed.container.length==0){ed.container=ed.sidebar.parent()}ed.sidebar.parents().css("-webkit-transform","none");ed.sidebar.css({position:"relative",overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"});ed.stickySidebar=ed.sidebar.find(".theiaStickySidebar");if(ed.stickySidebar.length==0){var ce=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;ed.sidebar.find("script").filter(function(aj,dN){return dN.type.length===0||dN.type.match(ce)}).remove();ed.stickySidebar=aj("<div>").addClass("theiaStickySidebar").append(ed.sidebar.children());ed.sidebar.append(ed.stickySidebar)}ed.marginTop=parseInt(ed.sidebar.css("margin-top"));ed.marginBottom=parseInt(ed.sidebar.css("margin-bottom"));ed.paddingTop=parseInt(ed.sidebar.css("padding-top"));ed.paddingBottom=parseInt(ed.sidebar.css("padding-bottom"));var aQ=ed.stickySidebar.offset().top;var bG=ed.stickySidebar.outerHeight();ed.stickySidebar.css("padding-top",0);ed.stickySidebar.css("padding-bottom",0);aQ-=ed.stickySidebar.offset().top;bG=ed.stickySidebar.outerHeight()-bG-aQ;if(aQ==0){ed.stickySidebar.css("padding-top",0);ed.stickySidebarPaddingTop=0}else{ed.stickySidebarPaddingTop=0}if(bG==0){ed.stickySidebar.css("padding-bottom",0);ed.stickySidebarPaddingBottom=0}else{ed.stickySidebarPaddingBottom=0}ed.previousScrollTop=null;ed.fixedScrollTop=0;fa();ed.onScroll=function(ed){if(!ed.stickySidebar.is(":visible")){return}if(aj("body").width()<ed.options.minWidth){fa();return}if(ed.options.disableOnResponsiveLayouts){var ce=ed.sidebar.outerWidth(ed.sidebar.css("float")=="none");if(ce+50>ed.container.width()){fa();return}}var aQ=aj(document).scrollTop();var bG="static";if(aQ>=ed.container.offset().top+(ed.paddingTop+ed.marginTop-ed.options.additionalMarginTop)){var gB=ed.paddingTop+ed.marginTop+dN.additionalMarginTop;var cY=ed.paddingBottom+ed.marginBottom+dN.additionalMarginBottom;var aF=ed.container.offset().top;var dA=ed.container.offset().top+bZ(ed.container);var fH=0+dN.additionalMarginTop;var gd;var fX=ed.stickySidebar.outerHeight()+gB+cY<aj(window).height();if(fX){gd=fH+ed.stickySidebar.outerHeight()}else{gd=aj(window).height()-ed.marginBottom-ed.paddingBottom-dN.additionalMarginBottom}var cZ=aF-aQ+ed.paddingTop+ed.marginTop;var dh=dA-aQ-ed.paddingBottom-ed.marginBottom;var fh=ed.stickySidebar.offset().top-aQ;var dE=ed.previousScrollTop-aQ;if(ed.stickySidebar.css("position")=="fixed"){if(ed.options.sidebarBehavior=="modern"){fh+=dE}}if(ed.options.sidebarBehavior=="stick-to-top"){fh=dN.additionalMarginTop}if(ed.options.sidebarBehavior=="stick-to-bottom"){fh=gd-ed.stickySidebar.outerHeight()}if(dE>0){fh=Math.min(fh,fH)}else{fh=Math.max(fh,gd-ed.stickySidebar.outerHeight())}fh=Math.max(fh,cZ);fh=Math.min(fh,dh-ed.stickySidebar.outerHeight());var eL=ed.container.height()==ed.stickySidebar.outerHeight();if(!eL&&fh==fH){bG="fixed"}else if(!eL&&fh==gd-ed.stickySidebar.outerHeight()){bG="fixed"}else if(aQ+fh-ed.sidebar.offset().top-ed.paddingTop<=dN.additionalMarginTop){bG="static"}else{bG="absolute"}}if(bG=="fixed"){ed.stickySidebar.css({position:"fixed",width:ed.sidebar.width(),top:fh,left:ed.sidebar.offset().left+parseInt(ed.sidebar.css("padding-left"))})}else if(bG=="absolute"){var fN={};if(ed.stickySidebar.css("position")!="absolute"){fN.position="absolute";fN.top=aQ+fh-ed.sidebar.offset().top-ed.stickySidebarPaddingTop-ed.stickySidebarPaddingBottom}fN.width=ed.sidebar.width();fN.left="";ed.stickySidebar.css(fN)}else if(bG=="static"){fa()}if(bG!="static"){if(ed.options.updateSidebarHeight==true){ed.sidebar.css({"min-height":ed.stickySidebar.outerHeight()+ed.stickySidebar.offset().top-ed.sidebar.offset().top+ed.paddingBottom})}}ed.previousScrollTop=aQ};ed.onScroll(ed);aj(document).scroll(function(aj){return function(){aj.onScroll(aj)}}(ed));aj(window).resize(function(aj){return function(){aj.stickySidebar.css({position:"static"});aj.onScroll(aj)}}(ed));function fa(){ed.fixedScrollTop=0;ed.sidebar.css({"min-height":"0px"});ed.stickySidebar.css({position:"static",width:""})}function bZ(dN){var ed=dN.height();dN.children().each(function(){ed=Math.max(ed,aj(this).height())});return ed}})}}})(jQuery);$(document).ready(function(){$(".home-fluid .sidebar-right").theiaStickySidebar({additionalMarginTop:12,additionalMarginBottom:10})});